services:
  api:
    build: ./apps/api
    ports:
      - "8787:8787"
    environment:
      - ZE_PORT=8787
      - ZE_LOG_DIR=/app/logs
      - ZE_DB_PATH=/app/data/ze.db
      - ZE_ADMIN_TOKEN=dev-admin-token
    volumes:
      - ./data:/app/data
      - ./logs:/app/logs
  web:
    build: ./apps/web
    ports:
      - "5173:5173"
    environment:
      - VITE_API_PROXY=http://api:8787
    depends_on:
      - api
